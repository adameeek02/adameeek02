Ahoj, pred cca hodinkou si mi vytvoril tento script:

(function() {
    'use strict';

    // Vytvoríme okno pre zadanie času a súradníc
    var targetWindow = window.open('', '', 'width=500,height=250');
    targetWindow.document.body.innerHTML = `
        <h2>Zadajte čas a súradnice</h2>
        <input type="text" id="time-input" placeholder="Hodina:Minúta:Sekunda">
        <br><br>
        <input type="text" id="coord-input" placeholder="Súradnice: 123|456">
        <br><br>
        <button id="confirm-button">Potvrdiť</button>
    `;

    // Po kliknutí na potvrdiť získame zadaný čas a súradnice a zavrieme okno
    targetWindow.document.getElementById('confirm-button').addEventListener('click', function() {
        var targetTime = targetWindow.document.getElementById('time-input').value;
        var targetCoord = targetWindow.document.getElementById('coord-input').value;
        targetWindow.close();

        // Spustíme interval, ktorý bude každú sekundu kontrolovať aktuálny čas
        setInterval(function() {
            var serverTime = document.getElementById('serverTime').innerText;
            if (serverTime === targetTime) {
                // Vložíme zadané súradnice a počet jednotiek do vstupného poľa a klikneme na tlačidlo Attack
                document.getElementsByName('input')[0].value = targetCoord;
                document.getElementById('unit_input_light').value = '50';
                document.getElementById('target_attack').click();

                // Počkáme 500ms a potom klikneme na tlačidlo na potvrdenie útoku
                setTimeout(function() {
                    document.getElementById('troop_confirm_submit').click();
                }, 500);
            }
        }, 1000);
    });
})();


Script mi funguje, akurát by trebalo niečo upraviť. Si k dispozícii?


Určite nechcem, aby si vytváral nový script. Preto prosím pracuj s tým, čo som ti poslal.

script sa aktivuje pri screen=place čo je správne. 

No keď sa už aktivuje button Útok, nemá zas načítať okno - v tom čase sa stránka zmení na screen=place&try=confirm a vtedy chcem už len aby to stlačilo potvrdiť útok: <input id="troop_confirm_submit" style="margin-bottom: 5px" class="troop_confirm_go btn btn-attack" name="submit_confirm" type="submit" onload="this.disabled=false;" value="Poslať útok">